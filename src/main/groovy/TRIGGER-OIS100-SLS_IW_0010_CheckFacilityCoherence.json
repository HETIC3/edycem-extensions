{"utilities":{},"programModules":{"OIS100":{"program":"OIS100","triggers":{"SLS_IW_0010_CheckFacilityCoherence":{"name":"SLS_IW_0010_CheckFacilityCoherence","method":"PACHK","advice":"PRE","active":true,"modified":1666111303663,"modifiedBy":"LUDTRA","sourceUuid":"aeb3a85f-3109-4c08-87b7-a7ba81b6bc9d","programName":"OIS100","utilities":[],"type":"METHOD","priority":500}},"transactions":{},"batches":{}}},"sources":{"aeb3a85f-3109-4c08-87b7-a7ba81b6bc9d":{"uuid":"aeb3a85f-3109-4c08-87b7-a7ba81b6bc9d","updated":1679933248855,"updatedBy":"LUDTRA","created":1666110689292,"createdBy":"LUDTRA","apiVersion":"0.5","beVersion":"16.0.0.20230118181716.8","codeHash":"A8402A92F45E7D1DFB8C0A616A70D9347B2B0B1421966985BF1EFE67183FFE93","code":"LyoqDQogKiBSRUFETUUNCiAqIFRoaXMgZXh0ZW5zaW9uIGlzIGJlaW5nIHRyaWdnZXJlZCBieSBPSVMxMDAvUEFDSEsvUFJFDQogKg0KICogTmFtZTogU0xTX0lXXzAwMTBfQ2hlY2tGYWNpbGl0eUNvaGVyZW5jZQ0KICogRGVzY3JpcHRpb246IFhUZW5kIG1hZGUgdG8gZm9yYmlkIHRoZSB1c2VyIGZyb20gY2hvb3NpbmcgYSBGYWNpbGl0eSB0aGF0IGlzIG5vdCBpbiB0aGVpciBESVZJDQogKiBEYXRlICAgICAgIENoYW5nZWQgQnkgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbg0KICogMjAyMjA2MDEgICBMdWRvdmljIFRSQVZFUlMgICAgICAgICAgICAgICAgQ3JlYXRlIFNMU19JV18wMDEwX0NoZWNrRmFjaWxpdHlDb2hlcmVuY2UgRXh0ZW5zaW9uDQogKiAyMDIyMTAxOCAgIEx1ZG92aWMgVFJBVkVSUyAgICAgICAgICAgICAgICBGaXggcG9zdCByZXZpZXcgaXNzdWVzDQogKiAyMDIzMDMyNyAgIEx1ZG92aWMgVFJBVkVSUyAgICAgICAgICAgICAgICBBZGQgQ3VzdG9tZXIgUnVsZQ0KICovDQogDQpwdWJsaWMgY2xhc3MgU0xTX0lXXzAwMTBfQ2hlY2tGYWNpbGl0eUNvaGVyZW5jZSBleHRlbmRzIEV4dGVuZE0zVHJpZ2dlciB7DQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtDQogIHByaXZhdGUgZmluYWwgSW50ZXJhY3RpdmVBUEkgaW50ZXJhY3RpdmUNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQ0KICBwcml2YXRlIGZpbmFsIExvZ2dlckFQSSBsb2dnZXINCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcg0KICANCiAgU3RyaW5nIGNvbXBhbnkNCiAgaW50IENPTk8NCiAgU3RyaW5nIHNvY2lldGUNCiAgU3RyaW5nIERJVkkNCiAgU3RyaW5nIEZBQ0kNCiAgU3RyaW5nIENVTk8NCiAgU3RyaW5nIFNEU1QNCiAgDQogIHB1YmxpYyBTTFNfSVdfMDAxMF9DaGVja0ZhY2lsaXR5Q29oZXJlbmNlKFByb2dyYW1BUEkgcHJvZ3JhbSwgSW50ZXJhY3RpdmVBUEkgaW50ZXJhY3RpdmUsDQogICAgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIExvZ2dlckFQSSBsb2dnZXIsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyKSB7DQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbQ0KICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBpbnRlcmFjdGl2ZQ0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQ0KICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyDQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyDQogIH0NCiAgDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgY29tcGFueSA9IHByb2dyYW0uZ2V0TERBWkQoKS5DT05PDQogICAgQ09OTyA9IChJbnRlZ2VyKSBwcm9ncmFtLmdldExEQVpEKCkuQ09OTw0KICAgIHNvY2lldGUgPSBwcm9ncmFtLmdldExEQVpEKCkuRElWSQ0KICAgIERJVkkgPSAiIg0KICAgIEZBQ0kgPSBpbnRlcmFjdGl2ZS5kaXNwbGF5LmZpZWxkcy5PQUZBQ0kNCiAgICBDVU5PID0gaW50ZXJhY3RpdmUuZGlzcGxheS5maWVsZHMuT0FDVU5PDQogICAgU0RTVCA9ICIiDQogICAgDQogICAgaWYgKEZBQ0kgIT0gIiIpIHsNCiAgICAgIERJVkkgPSB0aGlzLmNoZWNrQnlDRkFDSUwoRkFDSSkNCiAgICAgIGlmIChESVZJICE9IHRoaXMuc29jaWV0ZSkgew0KICAgICAgICBpbnRlcmFjdGl2ZS5zaG93Q3VzdG9tRXJyb3IoIk9BRkFDSSIsICJWb3VzIG4nYXZleiBwYXMgbGUgZHJvaXQgZCd1dGlsaXNlciBsJ8OpdGFibGlzc2VtZW50ICIgKyBGQUNJICsgIiwgSWwgbidhcHBhcnRpZW50IHBhcyDDoCBsYSBzb2Npw6l0w6kgIiArIHRoaXMuc29jaWV0ZSArICAiIHN1ciBsYXF1ZWxsZSB2b3VzIMOqdGVzIGNvbm5lY3TDqSAhIikNCiAgICAgIH0gDQogICAgfSBlbHNlIHsNCiAgICAgIGlmIChDVU5PLnN1YnN0cmluZygwLDIpLmVxdWFscygiVk0iKSkgew0KICAgICAgICBpZiAoRElWSSAhPSB0aGlzLnNvY2lldGUgJiYgRElWSS5lcXVhbHMoIkI0MCIpKSB7DQogICAgICAgICAgaW50ZXJhY3RpdmUuc2hvd0N1c3RvbUVycm9yKCJPQUZBQ0kiLCAiVm91cyBuJ2F2ZXogcGFzIGxlIGRyb2l0IGQndXRpbGlzZXIgbCfDqXRhYmxpc3NlbWVudCAiICsgRkFDSSArICIsIElsIG4nYXBwYXJ0aWVudCBwYXMgw6AgbGEgc29jacOpdMOpICIgKyB0aGlzLnNvY2lldGUgKyAgIiBzdXIgbGFxdWVsbGUgdm91cyDDqnRlcyBjb25uZWN0w6kgISIpDQogICAgICAgIH0NCiAgICAgIH0gDQogICAgfQ0KICAgIA0KICAgIGlmIChDVU5PICE9ICIiKSB7DQogICAgIGlmICghQ1VOTy5zdWJzdHJpbmcoMCwyKS5lcXVhbHMoIlZNIikpIHsNCiAgICAgICAgU0RTVCA9IHRoaXMuY2FsbENSUzYxME1JX0dldE9yZGVySW5mbyhDVU5PKQ0KICAgICAgICBpZiAoU0RTVC5lcXVhbHMoIjg5MCIpKSB7DQogICAgICAgICAgLy8gSWYgdGhlIENVTk8gaGFzIGEgU0RTVCA9IDg5MCwgaXQgY2FuIG9ubHkgYmUgdXNlZCBmb3IgRElWSSBCNDANCiAgICAgICAgICAvLyBTaSBsZSBjbGllbnQgYSB1biBjb2RlIHLDqWdpb24gODkwIGFsb3JzIG9uIG5lIHBldXQgbOKAmXV0aWxpc2VyIHF1ZSBwb3VyIGxhIERJVkkgQjQwIA0KICAgICAgICAgIGlmICghdGhpcy5zb2NpZXRlLmVxdWFscygiQjQwIikpIHsNCiAgICAgICAgICAgICAgaW50ZXJhY3RpdmUuc2hvd0N1c3RvbUVycm9yKCJPQUNVTk8iLCAiVm91cyBuJ2F2ZXogcGFzIGxlIGRyb2l0IGQndXRpbGlzZXIgY2UgY2xpZW50IHN1ciBsYSBzb2Npw6l0w6kgIiArIHRoaXMuc29jaWV0ZSArICAiIHN1ciBsYXF1ZWxsZSB2b3VzIMOqdGVzIGNvbm5lY3TDqSAhIikNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8gSWYgdGhlIENVTk8gaGFzIGEgU0RTVCAhPSA4OTAsIGl0IGNhbiBiZSB1c2VkIGZvciBhbGwgRElWSXMgZXhjZXB0IGZvciBESVZJIEI0MC4NCiAgICAgICAgICAvLyBTaSBsZSBjbGllbnQgYSB1biBjb2RlIHJlZ2lvbiBkaWZmw6lyZW50IGRlIDg5MCBhbG9ycyBpbCBwZXV0IMOqdHJlIHV0aWxpc8OpIHBhciB0b3V0ZXMgbGVzIERJVkkgZXhjZXB0w6kgQjQwDQogICAgICAgICAgaWYgKHRoaXMuc29jaWV0ZS5lcXVhbHMoIkI0MCIpKSB7DQogICAgICAgICAgICBpbnRlcmFjdGl2ZS5zaG93Q3VzdG9tRXJyb3IoIk9BQ1VOTyIsICJWb3VzIG4nYXZleiBwYXMgbGUgZHJvaXQgZCd1dGlsaXNlciBjZSBjbGllbnQgc3VyIGxhIHNvY2nDqXTDqSAiICsgdGhpcy5zb2NpZXRlICsgICIgc3VyIGxhcXVlbGxlIHZvdXMgw6p0ZXMgY29ubmVjdMOpICEiKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICB9DQogICAgfQ0KICB9DQogIA0KICAvKioNCiAgKiBBY2Nlc3MgdG8gQ0ZBQ0lMIHNpbmNlIENSUzAwOE1JIC0gR2V0IGlzIG5vdCB3b3JraW5nDQogICovDQogIHByaXZhdGUgU3RyaW5nIGNoZWNrQnlDRkFDSUwoU3RyaW5nIHBGQUNJKSB7DQogICAgREJBY3Rpb24gQ0ZBQ0lMID0gZGF0YWJhc2UudGFibGUoIkNGQUNJTCIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiQ0ZDT05PIiwgIkNGRkFDSSIsICJDRkZBQ04iLCAiQ0ZESVZJIiwgIkNGV0hMTyIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBDRkFDSUwuZ2V0Q29udGFpbmVyKCkNCiAgICBjb250YWluZXIuc2V0KCJDRkNPTk8iLCBDT05PKQ0KICAgIGNvbnRhaW5lci5zZXQoIkNGRkFDSSIsIHBGQUNJKQ0KICAgIGlmIChDRkFDSUwucmVhZChjb250YWluZXIpKSB7DQogICAgICByZXR1cm4gY29udGFpbmVyLmdldCgiQ0ZESVZJIikNCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuICIiDQogICAgfQ0KICB9DQogICAgDQogIC8qKg0KICAqIENhbGwgQ1JTNjEwTUkgLSBHZXRPcmRlckluZm8gdG8gcmV0cmlldmUgU0RTVA0KICAqLw0KICBwcml2YXRlIFN0cmluZyBjYWxsQ1JTNjEwTUlfR2V0T3JkZXJJbmZvKFN0cmluZyBwQ1VOTykgew0KICAgIFN0cmluZyBTRFNUID0gIiINCiAgICBkZWYgcGFyYW1zID0gWyJDT05PIiA6IHRoaXMuY29tcGFueSwgIkNVTk8iIDogcENVTk9dDQogICAgDQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgaWYgKHJlc3BvbnNlLlNEU1QgIT0gIiIpIHsNCiAgICAgICAgU0RTVCA9IHJlc3BvbnNlLlNEU1QudHJpbSgpDQogICAgICB9DQogICAgfQ0KICAgIG1pQ2FsbGVyLmNhbGwoIkNSUzYxME1JIiwgIkdldE9yZGVySW5mbyIsIHBhcmFtcywgY2FsbGJhY2spDQogICAgcmV0dXJuIFNEU1QNCiAgfQ0KfQ=="}}}